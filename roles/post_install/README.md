# Post install role

This role do post installation steps.

Currently following steps could be executed:

 - Update CA certificate of the Openshift.
 - Configure cluster using [gitops](https://github.com/redhat-cop/gitops-standards-repo-template/).

## Parameters

If `true` tasks to update certificate will be exected. Default `false`.
```post_install_custom_cert```

Directory where `kubeconfig` of Openshift is stored. The path used is `{{ post_install_home_dir }}/auth/kubeconfig`.
Kubeconfig is generated by `configure` role in home directory by default.
```post_install_home_dir```

### Cert parameters

Used to define the CN of the certificate with `post_install_base_domain` suffix. **Required**.
```post_install_cluster_name```

Used to define the domain of the CN of the certificate. **Required**.
```post_install_base_domain```

TTL of the certificate. Default `1825d`.
```post_install_certificate_ttl```

Certification system type. Default `vault`.
```post_install_certificate_type```

#### Vault cert system parameters

Vault role name to be used to generate certificate.
```post_install_vault_role_name```

Vault URL.
```post_install_vault_url```

Vault token.
```post_install_vault_token```

### Git ops Default hub.

The fork of the gitops repo template. If not defined gitops won't be executed.
```post_install_gitops_repo```

The name of the cluster to be used to run the gitops.
```post_install_gitops_cluster_name```

The path where the gitops repo should be cloned.
```post_install_gitops_repo_path```